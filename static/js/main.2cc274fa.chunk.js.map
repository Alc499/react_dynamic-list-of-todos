{"version":3,"sources":["api/getData.js","Components/getSortedList.js","Components/User.js","Components/TodoItem.js","Components/TodoList.js","App.js","index.js"],"names":["getTodos","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","fetch","then","response","json","stop","apply","this","arguments","getUsers","_ref2","_callee2","_context2","getData","_ref3","_callee3","todos","users","_context3","sent","map","todo","objectSpread","user","find","id","userId","currentKey","currentTodos","sortedTodos","getSortedList","sortField","callbackMap","b","title","localeCompare","name","callback","toConsumableArray","sort","User","currentUser","react_default","createElement","Fragment","className","email","phone","TodoItem","Components_User","completed","type","checked","TodoList","data-sort-type","data-column","Components_TodoItem","key","App","state","visibleTodos","isLoaded","isLoading","handleClick","_this","setState","setTimeout","sortBy","prevState","_this2","_this$state","onClick","Components_TodoList","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"+QAAMA,EAAQ,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aACH,6CADGF,EAAAG,OAAA,SAGRC,MAFK,8CAGTC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,UAJd,wBAAAP,EAAAQ,SAAAV,MAAH,yBAAAN,EAAAiB,MAAAC,KAAAC,YAAA,GAORC,EAAQ,eAAAC,EAAApB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAiB,IAAA,OAAAnB,EAAAC,EAAAG,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,aACH,6CADGa,EAAAZ,OAAA,SAGRC,MAFK,8CAGTC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,UAJd,wBAAAQ,EAAAP,SAAAM,MAAH,yBAAAD,EAAAJ,MAAAC,KAAAC,YAAA,GAiBCK,EAVF,eAAAC,EAAAxB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAqB,IAAA,IAAAC,EAAAC,EAAA,OAAAzB,EAAAC,EAAAG,KAAA,SAAAsB,GAAA,cAAAA,EAAApB,KAAAoB,EAAAnB,MAAA,cAAAmB,EAAAnB,KAAA,EACMX,IADN,cACR4B,EADQE,EAAAC,KAAAD,EAAAnB,KAAA,EAEMU,IAFN,cAERQ,EAFQC,EAAAC,KAAAD,EAAAlB,OAAA,SAIPgB,EAAMI,IAAI,SAAAC,GAAI,OAAA/B,OAAAgC,EAAA,EAAAhC,CAAA,GAChB+B,EADgB,CAEnBE,KAAMN,EAAMO,KAAK,SAAAD,GAAI,OAAIA,EAAKE,KAAOJ,EAAKK,cAN9B,wBAAAR,EAAAb,SAAAU,MAAH,yBAAAD,EAAAR,MAAAC,KAAAC,YAAA,GCdTmB,EAAa,GACbC,EAAe,GACfC,EAAc,GAuBHC,EArBO,SAAAzC,GAA0B,IAAvB2B,EAAuB3B,EAAvB2B,MAAOe,EAAgB1C,EAAhB0C,UAC9B,GAAIJ,IAAeI,GAAaH,IAAiBZ,EAC/C,OAAOa,EAGTF,EAAaI,EACbH,EAAeZ,EAEf,IAAMgB,EAAc,CAClBP,GAAI,SAAChC,EAAGwC,GAAJ,OAAUxC,EAAEgC,GAAKQ,EAAER,IACvBS,MAAO,SAACzC,EAAGwC,GAAJ,OAAUxC,EAAEyC,MAAMC,cAAcF,EAAEC,QACzCX,KAAM,SAAC9B,EAAGwC,GAAJ,OAAUxC,EAAE8B,KAAKa,KAAKD,cAAcF,EAAEV,KAAKa,QAG7CC,EAAWL,EAAYD,IAAcC,EAAYP,GAIvD,OAFAI,EAAcvC,OAAAgD,EAAA,EAAAhD,CAAI0B,GAAOuB,KAAKF,ICDjBG,EAhBF,SAAAnD,GAAA,IAAGoD,EAAHpD,EAAGoD,YAAH,OACXC,EAAAjD,EAAAkD,cAAAD,EAAAjD,EAAAmD,SAAA,KACEF,EAAAjD,EAAAkD,cAAA,MAAIE,UAAU,8BAA+BJ,EAAYL,MACzDM,EAAAjD,EAAAkD,cAAA,MAAIE,UAAU,8BAA+BJ,EAAYK,OACzDJ,EAAAjD,EAAAkD,cAAA,MAAIE,UAAU,8BAA+BJ,EAAYM,SCoB9CC,EAtBE,SAAA3D,GAAA,IAAGgC,EAAHhC,EAAGgC,KAAH,OACfqB,EAAAjD,EAAAkD,cAAA,UACED,EAAAjD,EAAAkD,cAAA,UAAKtB,EAAKI,IACViB,EAAAjD,EAAAkD,cAACM,EAAD,CAAMR,YAAapB,EAAKE,OACxBmB,EAAAjD,EAAAkD,cAAA,MAAIE,UAAU,yBACXxB,EAAKa,MACLb,EAAK6B,UACFR,EAAAjD,EAAAkD,cAAA,SAAOQ,KAAK,WAAWC,SAAO,IAC9BV,EAAAjD,EAAAkD,cAAA,SAAOQ,KAAK,gBC6CPE,EArDE,SAAAhE,GAAA,IAAG2B,EAAH3B,EAAG2B,MAAH,OACf0B,EAAAjD,EAAAkD,cAAA,SAAOE,UAAU,mBACfH,EAAAjD,EAAAkD,cAAA,aACED,EAAAjD,EAAAkD,cAAA,MAAIE,UAAU,2BACZH,EAAAjD,EAAAkD,cAAA,MACEW,iBAAe,KACfC,cAAY,IACZV,UAAU,0BAHZ,MAOAH,EAAAjD,EAAAkD,cAAA,MACEW,iBAAe,OACfC,cAAY,IACZV,UAAU,0BAHZ,aAOAH,EAAAjD,EAAAkD,cAAA,MACEW,iBAAe,OACfC,cAAY,IACZV,UAAU,0BAHZ,UAOAH,EAAAjD,EAAAkD,cAAA,MACEW,iBAAe,OACfC,cAAY,IACZV,UAAU,0BAHZ,SAOAH,EAAAjD,EAAAkD,cAAA,MACEW,iBAAe,QACfC,cAAY,IACZV,UAAU,0BAHZ,WASJH,EAAAjD,EAAAkD,cAAA,SAAOE,UAAU,0BACd7B,EAAMI,IAAI,SAAAC,GAAI,OACbqB,EAAAjD,EAAAkD,cAACa,EAAD,CAAUnC,KAAMA,EAAMoC,IAAKpC,EAAKI,UCmDzBiC,6MA3FbC,MAAQ,CACN3C,MAAO,GACP4C,aAAc,GACdC,UAAU,EACVC,WAAW,EACX/B,UAAW,QAYbgC,YAAc,WACZC,EAAKC,SAAS,CACZH,WAAW,IAGbI,WAAW,WACTF,EAAKC,SAAS,CACZJ,UAAU,EACVC,WAAW,KAEZ,QAGLK,OAAS,SAACpC,GACRiC,EAAKC,SAAS,SAAAG,GAAS,MAAK,CAC1BR,aAAc9B,EAAcsC,GAC5BrC,iOAxBkBlB,WAAdG,SAENT,KAAK0D,SAAS,CACZjD,QACA4C,aAAatE,OAAAgD,EAAA,EAAAhD,CAAK0B,wIAwBb,IAAAqD,EAAA9D,KAAA+D,EAMH/D,KAAKoD,MAJPC,EAFKU,EAELV,aACA7B,EAHKuC,EAGLvC,UACA8B,EAJKS,EAILT,SACAC,EALKQ,EAKLR,UAGF,OACEpB,EAAAjD,EAAAkD,cAAA,OAAKE,UAAU,OACXgB,EACAnB,EAAAjD,EAAAkD,cAAAD,EAAAjD,EAAAmD,SAAA,KACEF,EAAAjD,EAAAkD,cAAA,MAAIE,UAAU,cAAd,yBAEAH,EAAAjD,EAAAkD,cAAA,OAAKE,UAAU,gBACbH,EAAAjD,EAAAkD,cAAA,uBAEGZ,GAEHW,EAAAjD,EAAAkD,cAAA,UACEQ,KAAK,SACLoB,QAAS,kBAAMF,EAAKF,OAAO,OAC3BtB,UAAU,qBAHZ,MAOAH,EAAAjD,EAAAkD,cAAA,UACEQ,KAAK,SACLoB,QAAS,kBAAMF,EAAKF,OAAO,UAC3BtB,UAAU,qBAHZ,QAOAH,EAAAjD,EAAAkD,cAAA,UACEQ,KAAK,SACLoB,QAAS,kBAAMF,EAAKF,OAAO,SAC3BtB,UAAU,qBAHZ,SASFH,EAAAjD,EAAAkD,cAAC6B,EAAD,CAAUxD,MAAO4C,KAGnBlB,EAAAjD,EAAAkD,cAAA,UAAQQ,KAAK,SAASoB,QAAShE,KAAKwD,YAAalB,UAAU,YACxDiB,EAAY,aAAe,gBApFtBW,IAAMC,WCHxBC,IAASC,OAAOlC,EAAAjD,EAAAkD,cAACkC,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.2cc274fa.chunk.js","sourcesContent":["const getTodos = async() => {\n  const url = 'https://jsonplaceholder.typicode.com/todos';\n\n  return fetch(url)\n    .then(response => response.json());\n};\n\nconst getUsers = async() => {\n  const url = 'https://jsonplaceholder.typicode.com/users';\n\n  return fetch(url)\n    .then(response => response.json());\n};\n\nconst getData = async() => {\n  const todos = await getTodos();\n  const users = await getUsers();\n\n  return todos.map(todo => ({\n    ...todo,\n    user: users.find(user => user.id === todo.userId),\n  }));\n};\n\nexport default getData;\n","let currentKey = '';\nlet currentTodos = [];\nlet sortedTodos = [];\n\nconst getSortedList = ({ todos, sortField }) => {\n  if (currentKey === sortField && currentTodos === todos) {\n    return sortedTodos;\n  }\n\n  currentKey = sortField;\n  currentTodos = todos;\n\n  const callbackMap = {\n    id: (a, b) => a.id - b.id,\n    title: (a, b) => a.title.localeCompare(b.title),\n    user: (a, b) => a.user.name.localeCompare(b.user.name),\n  };\n\n  const callback = callbackMap[sortField] || callbackMap.id;\n\n  sortedTodos = [...todos].sort(callback);\n\n  return sortedTodos;\n};\n\nexport default getSortedList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ currentUser }) => (\n  <>\n    <td className=\"todo-list-table__user-info\">{ currentUser.name }</td>\n    <td className=\"todo-list-table__user-info\">{ currentUser.email }</td>\n    <td className=\"todo-list-table__user-info\">{ currentUser.phone }</td>\n  </>\n);\n\nUser.propTypes = {\n  currentUser: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    phone: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport User from './User';\n\nconst TodoItem = ({ todo }) => (\n  <tr>\n    <td>{todo.id}</td>\n    <User currentUser={todo.user} />\n    <td className=\"todo-list-table__task\">\n      {todo.title}\n      {todo.completed\n        ? <input type=\"checkbox\" checked />\n        : <input type=\"checkbox\" /> }\n    </td>\n  </tr>\n);\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    id: PropTypes.number,\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: PropTypes.object,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TodoItem from './TodoItem';\n\nconst TodoList = ({ todos }) => (\n  <table className=\"todo-list-table\">\n    <thead>\n      <tr className=\"todo-list-table__titles\">\n        <th\n          data-sort-type=\"id\"\n          data-column=\"0\"\n          className=\"todo-list-table__title\"\n        >\n          ID\n        </th>\n        <th\n          data-sort-type=\"name\"\n          data-column=\"1\"\n          className=\"todo-list-table__title\"\n        >\n          User Name\n        </th>\n        <th\n          data-sort-type=\"name\"\n          data-column=\"2\"\n          className=\"todo-list-table__title\"\n        >\n          E-mail\n        </th>\n        <th\n          data-sort-type=\"name\"\n          data-column=\"3\"\n          className=\"todo-list-table__title\"\n        >\n          Phone\n        </th>\n        <th\n          data-sort-type=\"todos\"\n          data-column=\"4\"\n          className=\"todo-list-table__title\"\n        >\n          Tasks\n        </th>\n      </tr>\n    </thead>\n    <tbody className=\"todo-list-table__tasks\">\n      {todos.map(todo => (\n        <TodoItem todo={todo} key={todo.id} />\n      ))}\n    </tbody>\n  </table>\n);\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport './App.css';\n\nimport getData from './api/getData';\nimport getSortedList from './Components/getSortedList';\nimport TodoList from './Components/TodoList';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    visibleTodos: [],\n    isLoaded: false,\n    isLoading: false,\n    sortField: 'id',\n  };\n\n  async componentDidMount() {\n    const todos = await getData();\n\n    this.setState({\n      todos,\n      visibleTodos: [...todos],\n    });\n  }\n\n  handleClick = () => {\n    this.setState({\n      isLoading: true,\n    });\n\n    setTimeout(() => {\n      this.setState({\n        isLoaded: true,\n        isLoading: false,\n      });\n    }, 2000);\n  };\n\n  sortBy = (sortField) => {\n    this.setState(prevState => ({\n      visibleTodos: getSortedList(prevState),\n      sortField,\n    }));\n  };\n\n  render() {\n    const {\n      visibleTodos,\n      sortField,\n      isLoaded,\n      isLoading,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        { isLoaded ? (\n          <>\n            <h1 className=\"main-title\">Dynamic list of todos</h1>\n\n            <div className=\"sort-buttons\">\n              <h2>\n                Sorted by:\n                {sortField}\n              </h2>\n              <button\n                type=\"button\"\n                onClick={() => this.sortBy('id')}\n                className=\"sort-buttons__btn\"\n              >\n                ID\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => this.sortBy('title')}\n                className=\"sort-buttons__btn\"\n              >\n                Task\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => this.sortBy('user')}\n                className=\"sort-buttons__btn\"\n              >\n                User\n              </button>\n            </div>\n\n            <TodoList todos={visibleTodos} />\n          </>\n        ) : (\n          <button type=\"button\" onClick={this.handleClick} className=\"load-btn\">\n            {isLoading ? 'Loading...' : 'Load' }\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}